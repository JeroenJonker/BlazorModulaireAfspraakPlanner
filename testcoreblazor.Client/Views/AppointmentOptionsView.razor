@using BlazorAgenda.Client.Viewmodels
@using BlazorAgenda.Client.Shared;
@using BlazorAgenda.Shared.Models
@using BlazorAgenda.Shared.Enums

@inherits AppointmentOptionsViewModel

<form onsubmit="@SubmitEventOptions" class="container-fluid">
    <fieldset>
        @foreach (Option option in Options)
        {
            <div class="form-row">
                <span class="col-sm-5">
                    <label class="col-form-label">@option.Text</label>
                </span>
                <span class="col-sm-7 input-group">
                    @if (Event.EventOption.FirstOrDefault(evOption => evOption.OptionId == option.Id) is EventOption eventOption && eventOption != default)
                    {
                        <OptionTypeComponent Option="@option" EventOption="@eventOption" OnNewEventOption="@(neweventOption => AddNewEventOption(neweventOption))" />

                    }
                    else
                    {
                        <OptionTypeComponent Option="@option" OnNewEventOption="@(neweventOption => AddNewEventOption(neweventOption))" />
                    }
                </span>
            </div>
        }
        <button type="submit" value="Submit" class="continue">
            continue
            <span>
                <i class="oi oi-arrow-right" />
            </span>
        </button>
    </fieldset>
</form>
